# ===========================================
# Production Environment Variables
# ===========================================
# Copy this to .env.prod and fill in the values
# Usage: docker compose -f docker-compose.prod.yaml --env-file .env.prod up -d

# Domain (used by Caddy for SSL certificate)
DOMAIN=chess.yourdomain.com

# URLs (must match your domain)
FRONTEND_URL=https://chess.yourdomain.com
BACKEND_URL=https://chess.yourdomain.com

# ===========================================
# Backend Configuration
# ===========================================

# Server
PORT=8080
ENV=production

# Logging
LOG_LEVEL=INFO
LOG_JSON=true

# Database (internal Docker network)
# For internal Docker network: sslmode=disable is acceptable (traffic stays within Docker)
# For external/managed databases (RDS, Azure, etc.): use sslmode=require
DATABASE_URL=postgres://${DB_USER}:${DB_PASSWORD}@db:5432/${DB_NAME}?sslmode=disable
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME_MINS=5

# Redis (internal Docker network)
REDIS_ADDR=redis:6379
REDIS_PASSWORD=CHANGE_THIS_TO_A_SECURE_REDIS_PASSWORD

# ===========================================
# Database Configuration
# ===========================================
DB_NAME=chess_db
DB_USER=postgres
DB_PASSWORD=CHANGE_THIS_TO_A_SECURE_PASSWORD

# ===========================================
# OAuth Providers (optional)
# ===========================================
# Get credentials from:
# - Google: https://console.developers.google.com/
# - GitHub: https://github.com/settings/developers
# - Discord: https://discord.com/developers/applications

# Callback URLs to configure in each provider:
# - Google:  https://chess.yourdomain.com/auth/google/callback
# - GitHub:  https://chess.yourdomain.com/auth/github/callback
# - Discord: https://chess.yourdomain.com/auth/discord/callback

GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=
